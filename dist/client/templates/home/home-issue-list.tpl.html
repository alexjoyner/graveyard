<!--
    <ro-new-issue-form
        *ngIf="startQuestion"
        (searchText)="searchText">
    </ro-new-issue-form>
-->
<div class="row form-group" *ngIf="startQuestion">
    <div class="col-xs-6">
        <h2><u>Review issue:</u></h2>
        <h3>Issue: {{searchText}}?</h3>
        <h4>
            <u>
                Issue format helper
            </u>
        </h4>
        <ol>
            <li>
                Your question: *** YES or NO Questions only ***
            </li>
            <li>
                Keep issues one sided, support for 
                comparisons may be added in the future.
            </li>
            <li>
                Keep it complex.  Issues that the answer will be <br>
                something
            </li>
        </ol>
        <ul>
            <li>
                GOOD EX: Should we legalize weed?
            </li>
            <li>
                BAD EX: What is better, windows server or linux server?
            </li>
        </ul>
        <button class="btn btn-success" (click)="onCreate()" [disabled]="searchText === '' || acceptedTags.length === 0">
            My issue is good! Add it.
        </button>
        <button class="btn btn-danger" (click)="onCancel()">
            Cancel
        </button>
    </div>
    <div class="col-xs-6">
        <div class="row">
            <div class="col-xs-6" style="max-height: 400px">
                <div class="input-group">
                    <div class="input-group-addon">Search</div>
                    <input type="text" class="form-control" id="exampleInputAmount"placeholder="Tags" #searchTagText (keyup)="searchTags(searchTagText.value)">
                </div>
                <h4><u>Tags returned</u></h4>
                <ul *ngFor="#tag of returnedTags">
                    <li>
                        {{tag.tag_name}} <button class="btn btn-xs btn-success" (click)="acceptTag(tag)"><i class="fa fa-plus"></i></button>
                    </li>
                </ul>
                <p *ngIf="returnedTags && returnedTags.length > 0 && searchTagText.value.length > 0">CREATE TAG: {{searchTagText.value}} <button class="btn btn-xs btn-success" (click)="createTag(searchTagText.value)"><i class="fa fa-plus"></i></button></p>
            </div>
            <div class="col-xs-6" style="max-height: 400px">
                <h4><u>Accepted tags</u></h4>
                <ul *ngFor="#tag of acceptedTags">
                    <li>
                        {{tag.tag_name}} <button class="btn btn-xs btn-danger" (click)="removeTag(tag)"><i class="fa fa-minus"></i></button>
                    </li>
                </ul>
            </div>
        </div>
    </div>
</div>
<h1 class="text-center" *ngIf="issues && issues.length === 0 && !startQuestion">
    No issues here! How about
    <button class="btn btn-lg btn-success" (click)="startQuestion = true">
        ADD ONE!!!
    </button>
</h1>
<h1 [hidden]="issues">
    Loading issues
</h1>
<br/>
<div class="HomeIssue" *ngFor="#issue of issues | roFilter:searchText" [routerLink]="['Issue', {id: issue._id, type: 'yes'}]">
    <h3 class="text-center">
        {{issue.title}}
    </h3>
    <h5 class="text-center">
        {{issue.detail}}
    </h5>
    <!-- <p class="text-center">
        Created on {{stringToDate(issue.created_at) | date: 'yMMMd'}}
    </p> -->
    <div class="ro-action-bar">
        <ro-vote-cell
            class="ro-action-bar-item"
            [sourceId]="issue._id"
            [score]="issue.score"
            (modVote)="issue.ups = issue.ups + $event">
        </ro-vote-cell>
        <div class="pull-right" *ngIf="isOwner(issue.owner_user_id)">
            <button class="btn btn-sm btn-danger" (click)="deleteIssue(issue, $event)">
                <i class="fa fa-close">
                </i>
            </button>
        </div>
    </div>
</div>

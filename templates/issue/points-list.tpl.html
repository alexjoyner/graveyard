<ro-create-point-form *ngIf="showForm" (added)="showForm = !showForm; ngOnInit()"></ro-create-point-form>
<div *ngFor="#point of points | roFilter: searchText; #i = index" class="point">
    <div class="row">
        <div class="col-xs-6 main-point-block text-center">
            <ro-main-point
            	[point]="point"
                (removed)="onRemoved()"></ro-main-point>
        </div>
        <div class="col-xs-6 top-supports">
            <ro-top-support 
                *ngIf="point.supports && point.supports.length > 0"
                [support]="point.supports[0]"
                [numMoreSupport]="point.supports.length - 1"
                [showingMore]="point.viewAll"
                (addEvidence)="addEvidence(i)"
                (viewAll)="viewAll(i)"
                (removed)="removeSupport(i,0)"></ro-top-support>
            <!-- To show if no supports data has been searched for -->
            <div *ngIf="!point.supports">
                <br/>
                <button type="button" class="btn btn-lg btn-default" (click)="getSupports(point._id, i)">
                    Get Supports
                </button>
            </div>
            <div *ngIf="point.supports && point.supports.length === 0">
                <h3 class="text-center">
                    No Support
                </h3>
                <button type="button" class="btn btn-xs btn-info" (click)="addEvidence(i)">
                    Add Evidence
                </button>
            </div>
        </div>
    </div>
    <ro-more-support 
        *ngIf="point.supports && point.viewAll"
        [supports]="point.supports.slice(1)"
        (removed)="removeSupport(i,$event)"></ro-more-support>
    <ro-add-support
        *ngIf="point.supports && point.addEvidence"
        [pointId]="point._id"
        [pointIndex]="i"
        (added)="viewAll(i); getSupports(point._id, i)"></ro-add-support>
    <hr>
</div>